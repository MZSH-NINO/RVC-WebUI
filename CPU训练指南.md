# RVC-WebUI CPU 训练指南

## 已配置完成
✅ 启动脚本已修改为 CPU 模式（移除 --dml 参数）

## 训练参数建议

### 推荐配置（CPU 优化）

| 参数 | 推荐值 | 说明 |
|------|--------|------|
| **实验名** | `mengmeng` | 使用英文名，避免编码问题 |
| **目标采样率** | `40k` | 已有数据，保持不变 |
| **音高指导** | `True` | 唱歌必选 |
| **版本** | `v2` | 推荐使用 |
| **批大小** | `4-8` | CPU 建议减小到 4-8（默认40太大）|
| **总训练轮数** | `20-50` | 数据少可增加到 30-50 轮 |
| **保存频率** | `10` | 每 10 轮保存一次，方便中断恢复 |
| **GPU 卡号** | **留空** | 不填或填 `0` 都可以 |

### 时间预估

- **数据量**：11个音频文件
- **预计时间**：
  - 20 轮：约 4-6 小时
  - 50 轮：约 10-15 小时

## 训练步骤

### 1. 关闭当前 WebUI
- 如果 WebUI 正在运行，请关闭

### 2. 重新启动 WebUI（CPU 模式）
- 双击运行 `一键启动.bat`
- 应该看到提示："CPU 模式（训练速度较慢，请耐心等待）"

### 3. 配置训练参数
在 WebUI 的"训练"标签页中：
- **实验名**：`mengmeng`
- **训练文件夹路径**：`C:\Users\mengzhishanghun\Downloads\语音`
- **目标采样率**：`40k`
- **模型是否带音高指导**：`True`
- **版本**：`v2`
- **批大小（batch_size）**：改为 `8`（重要！）
- **总训练轮数**：`20`（可根据需要调整）
- **保存频率**：`10`
- **GPU 卡号**：留空或填 `0`

### 4. 开始训练
- 点击"一键训练"按钮
- **不要关闭命令行窗口**
- 训练可能显示 "NO GPU DETECTED: falling back to CPU" - 这是正常的

### 5. 监控进度
- 查看 WebUI 输出信息框
- 或查看 `logs\mengmeng\train.log` 文件

## 优化建议

### CPU 使用优化
- 训练期间不要运行其他大型程序
- 保持电脑通风良好，避免过热降频

### 中途中断恢复
- 如果训练中断，重新点击"训练模型"（不是一键训练）
- 会自动从最后一个检查点继续

### 查看训练进度
- 训练日志：`logs\mengmeng\train.log`
- TensorBoard（可选）：`tensorboard --logdir=logs/mengmeng`

## 完成后
训练完成后，模型会保存在：
- `weights/mengmeng.pth` - 提取的小模型
- `logs/mengmeng/` - 训练日志和检查点

## 注意事项
1. **不要关闭命令行窗口** - 否则训练会中断
2. **耐心等待** - CPU 训练很慢是正常的
3. **可以睡觉/出门** - 让电脑自己训练
4. **定期检查** - 确保没有出错

---

**配置完成！现在可以开始训练了。**
